<ion-view hide-nav-bar="true"  hide-back-button="true" view-title="{{'global.menu.indexpage' | translate}}">
    <ion-content>
            <div class="main-title">Choix de la gamme</div>
            <div class="return"><button ng-click="vm.goBack()" class="btn btn--red btn--return">Retour</div>
                <!--<div class="row text-center">
                    <div>
                        <h1>Choix du devis</h1>
                        <h3>MADERA</h3>
                    </div>
                </div>-->
                <jhi-alert-error></jhi-alert-error>
                <div class="row">
                        <div class="col col-50 col-offset-50">
                            <input type="text" class="input--text input--search" ng-model="vm.searchBox" /><button class="btn btn--search" ng-click="vm.goSearch()">Search</button>
                        </div>
                    </div>
                <div class="row">
                        <div class="col col-50">
                            <div class="table-responsive">
                                 <table class="index-table">
                                    <thead>
                                        <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
                                            <th jh-sort-by="name"><span>Nom</span> <span class="glyphicon glyphicon-sort"></span></th>
                                          
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="assortment in vm.assortments track by assortment.id">
                                            <td ng-click="vm.currentAssortment = assortment" ng-class="{'assortment--crt': assortment == vm.currentAssortment}">{{assortment.name}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                </div>
                    </div>
                     <div class="col col-50">
                            <div class="table-responsive">
                             <table class="index-table">
                                <thead>
                                    <tr>
                                        <th><span ng-click="console.debug(vm.currentAssortment);">{{vm.currentAssortment.name}}</span> <span class="glyphicon glyphicon-sort"></span></th>
                                    </tr>
                                </thead>
                                 <tbody>
                                <tr>
                                <td>      
                                    Finition ext√©rieure : {{vm.currentAssortment.finition_ext.name}}<img class="assortment--img" ng-src="data:{{vm.currentAssortment.finition_ext.imageContentType}};base64,{{vm.currentAssortment.finition_ext.image}}" /><br/>
                                    Type d'isolation : {{vm.currentAssortment.insulating_type.name}}<br/>
                                    Type de couverture : {{vm.currentAssortment.cover_type.name}}<img class="assortment--img" ng-src="data:{{vm.currentAssortment.cover_type.imageContentType}};base64,{{vm.currentAssortment.cover_type.image}}" /><br/>
                                    Huisserie : {{vm.currentAssortment.frame.name}}<br/>
                                    <img class="assortment--img-frame" ng-src="data:{{vm.currentAssortment.frame.imageContentType}};base64,{{vm.currentAssortment.frame.image}}" />

                                </td>
                                </tr>
                                </tbody>
                                </table>
                                </div>
                                
                     </div>
                </div>

                <div class="row">
                        <div class="col col-50 col-offset-50">
                            <button class="btn btn--default" ng-click="vm.selectAssortment()">Valider</button>
                        </div>
                    </div>


    </ion-content>
</ion-view>

